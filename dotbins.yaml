tools_dir: ~/.tool-bin

defaults:
  prefer_appimage: true
  libc: musl

platforms:
  linux:
    - amd64
    - arm64

tools:
  bat: sharkdp/bat
  rg: BurntSushi/ripgrep
  duf: muesli/duf
  dust: bootandy/dust
  eza: eza-community/eza
  git-lfs: git-lfs/git-lfs
  delta: dandavison/delta
  tldr: tealdeer-rs/tealdeer
  yq: mikefarah/yq
  fastfetch: fastfetch-cli/fastfetch
  ghostty: pkgforge-dev/ghostty-appimage

  lazygit:
    repo: jesseduffield/lazygit
    shell_code:
      bash: |
        alias lg="lazygit"

  opencode:
    repo: sst/opencode
    shell_code:
      bash: |
        alias oc="opencode"

        function oct {
            tmp_dir=$(mktemp --directory)
            prev_dir=$(pwd)
            cd "$tmp_dir"
            opencode $@
            cd "$prev_dir"

            if ! rmdir "$tmp_dir" 1>/dev/null 2>&1; then
                echo "Temporary directory not empty"
            fi
        }

  fzf:
    repo: junegunn/fzf
    shell_code:
      bash: |
        export FZF_CTRL_R_OPTS="--height 7"
        eval "$(fzf --bash)"

  nvim:
    repo: neovim/neovim
    shell_code:
      bash: |
        export EDITOR="nvim"
        alias vi="nvim"
        alias vim="nvim"
        alias nv="nvim"

  zellij:
    repo: zellij-org/zellij
    shell_code:
      bash: |
        alias zj="zellij"

  starship:
    repo: starship/starship
    shell_code:
      bash: |
        STARSHIP_DIR=$HOME/.config/starship
        if [ "$ZELLIJ" = "0" ]; then
            export STARSHIP_CONFIG=$STARSHIP_DIR/short.toml
        else
            export STARSHIP_CONFIG=$STARSHIP_DIR/default.toml
        fi

        eval "$(starship init bash)"

  uv:
    repo: astral-sh/uv
    binary_name: [uv, uvx]
    path_in_archive: [uv-*/uv, uv-*/uvx]
